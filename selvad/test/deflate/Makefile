# Copyright (c) 2022-2024 SAULX
#
# SPDX-License-Identifier: MIT

include ../../common.mk

# Add here one or more include directories.
IDIR := ../../include

# Set this to 1 if you will use asserts that compares floats or doubles;
# or 0 disable
PU_LMATH := 1

# Enable Unix Unit (incl. stdin_writer)
PU_UU := 0

# Report oriented mode prints more additional information like test module and
# test case descriptions. 0 = disabled; 1 = enabled.
PU_REPORT_ORIENTED := 1

CFLAGS := $(CFLAGS) \
		   -Wextra -Wno-unused-value -Wno-unused-parameter -Wno-implicit-function-declaration \
		   -Wno-unknown-attributes \
		   $(EN_VALGRIND_CFLAGS) \
		   -g3 \
		   -include ../../tunables.h \

ifeq ($(uname_S),Linux)
LDFLAGS := -Wl,-rpath,'$$ORIGIN'/../../../lib
endif
ifeq ($(uname_S),Darwin)
LDFLAGS := -Wl,-rpath,@executable_path/../../../lib
endif
LDFLAGS += -L ../../lib -ldeflate

# Location of punit makefile
# Do not touch
include ../punit/Makefile.punit
